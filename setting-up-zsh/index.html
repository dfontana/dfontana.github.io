<html lang="en">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <title>nill.ink</title>
    <link rel="stylesheet" href="https://nill.ink/theme.css">
  </head>
  <body>
    
  
    
        
        <header>
          <nav class="navbox" itemscope itemtype="https://schema.org/SiteNavigationElement">
            <a class="nav-title" href="https:&#x2F;&#x2F;nill.ink"><div class="nav-image-box"><div class="nav-image" style="background: url(/img/icon-bronze.png)"></div></div>nill<span class="title-ink">&#46;ink</span><span class="title-social" hidden>oss</span></a>&nbsp;
            
            <span class="navbox-spacer" />
            <a itemprop="url"
                class=""
                href="https:&#x2F;&#x2F;nill.ink&#x2F;about">
                <span itemprop="name">About</span></a>&nbsp;&nbsp;
            
            <span class="navbox-spacer" />
            <a itemprop="url"
                class=""
                href="https:&#x2F;&#x2F;nill.ink&#x2F;tags">
                <span itemprop="name">Tags</span></a>&nbsp;&nbsp;
            
          </nav>
          <hr/>
        </header>
        
      
  

  <article itemscope itemtype="https://schema.org/BlogPosting">
    <header>
        <h1 itemprop="headline">How to Setup ZSH</h1>
        
        
        <p>
          2017-10-13&nbsp;
  
    |&nbsp;
    
      <a href="https://nill.ink/tags/terminal/"># terminal</a>
      
        &nbsp;
      
    
      <a href="https://nill.ink/tags/zsh/"># zsh</a>
      
        &nbsp;
      
    
      <a href="https://nill.ink/tags/configuration/"># configuration</a>
      
        
      
    
  

        </p>
        
    </header>
    <div class="articlebody" itemprop="articleBody">
      <p>Having not been satisfied with the autocompletion bash provides, and curious what alternative shells had to offer, I found ZSH.<span id="continue-reading"></span> In this guide, I'm going to walk you through how I setup ZSH on my Windows machine (inside WSL) - but the instructions compare similarly for my Mac.</p>
<h2 id="first-step-zsh">First Step, ZSH <a class="zola-anchor" href="#first-step-zsh" aria-label="Anchor link for: first-step-zsh"></a>
</h2>
<p>You'll want to boot up your terminal / WSL terminal and install the ZSH package. This is really simple:</p>
<ul>
<li>On WSL:</li>
</ul>
<pre data-lang="sh" style="background-color:#282828;color:#fdf4c1aa;" class="language-sh "><code class="language-sh" data-lang="sh"><span style="color:#fdf4c1;">sudo apt-get install zsh
</span></code></pre>
<ul>
<li>With Brew:</li>
</ul>
<pre data-lang="sh" style="background-color:#282828;color:#fdf4c1aa;" class="language-sh "><code class="language-sh" data-lang="sh"><span style="color:#fdf4c1;">brew install zsh zsh-completions
</span></code></pre>
<p>Test the installation went well by trying to execute <code>zsh</code>. Note on your first run you may be prompted for some configurations, you can simply exit this as we'll be using a manager to handle our ZSH! Type <code>exit</code> to move back to bash.</p>
<h2 id="oh-my-zsh">Oh-My-ZSH <a class="zola-anchor" href="#oh-my-zsh" aria-label="Anchor link for: oh-my-zsh"></a>
</h2>
<p>There's a lot of ZSH managers out there - think of these as your package managers. If you want to add a theme or plugin, this is where you look. I prefer Oh-My-ZSH, but recognize there are alternatives! Install with:</p>
<pre data-lang="sh" style="background-color:#282828;color:#fdf4c1aa;" class="language-sh "><code class="language-sh" data-lang="sh"><span style="color:#fdf4c1;">sh -c </span><span style="color:#b8bb26;">&quot;$(</span><span style="color:#fdf4c1;">wget https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh -O -</span><span style="color:#b8bb26;">)&quot;
</span></code></pre>
<p>After running the installation script, you'll find a few new directories and files in your home dir: <code>.zshrc</code> and <code>.oh-my-zsh</code>. Just like a <code>.bashrc</code>, your <code>.zshrc</code> is responsible for aliases, functions, and more - but more importantly - this is also where we can define themes and plugins.</p>
<p>There's lot of settings to be tweaked, check out the default configuration Oh-My-ZSH makes as its pretty well documented with all the options you can tweak. Read on for some plugin recommendations!</p>
<h2 id="plugins">Plugins <a class="zola-anchor" href="#plugins" aria-label="Anchor link for: plugins"></a>
</h2>
<p>Plugins get to be added via the <code>.zshrc</code> file and can be found on the official repository or 3rd party suppliers. The big importance to note here is that plugins are <em>space delimited</em>. If you simply list your plugins separated by commas, you'll end up loading none of them. So with that said, there's two plugins I like to use the most and are worthy of highlighting. The first is the included <code>ssh-agent</code> plugin to automatically add your ssh keys when opening a terminal. Add the following to the <code>plugins</code> line of your <code>~/.zshrc</code>:</p>
<pre data-lang="sh" style="background-color:#282828;color:#fdf4c1aa;" class="language-sh "><code class="language-sh" data-lang="sh"><span style="color:#fdf4c1;">...
</span><span>
</span><span style="color:#fdf4c1;">plugins</span><span style="color:#fe8019;">=</span><span>(z git ssh-agent)
</span><span>
</span><span style="font-style:italic;color:#928374;"># Tells what identities to load. Can be more than one separated by spaces.
</span><span style="color:#fdf4c1;">zstyle :omz:plugins:ssh-agent identities id_rsa
</span><span>
</span><span style="font-style:italic;color:#928374;"># How long to keep these identities loaded before reasking for password.
</span><span style="color:#fdf4c1;">zstyle :omz:plugins:ssh-agent lifetime 4h
</span><span>
</span><span style="color:#fdf4c1;">...
</span></code></pre>
<p>And that's it! Now when we open a terminal we type in our ssh password once, and 4 hours later we do it again. Another one I really like is called &quot;zsh-syntax-highlighting&quot;. It's beyond helpful as it highlights errors in commands as you type them, gives colors to regex's, and more. It's actually syntax highlighting in your command prompt. This one you'll need to clone into the custom .Oh-my-zsh directory:</p>
<pre data-lang="sh" style="background-color:#282828;color:#fdf4c1aa;" class="language-sh "><code class="language-sh" data-lang="sh"><span style="color:#fdf4c1;">git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM</span><span style="color:#fe8019;">:-</span><span style="color:#fdf4c1;">~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting
</span></code></pre>
<p>After which, you'll need to add it to the plugin list in your <code>.zshrc</code> file.</p>
<pre data-lang="sh" style="background-color:#282828;color:#fdf4c1aa;" class="language-sh "><code class="language-sh" data-lang="sh"><span style="color:#fdf4c1;">...
</span><span>
</span><span style="color:#fdf4c1;">plugins-(z git ssh-agent zsh-syntax-highlighting</span><span>)
</span><span>
</span><span style="color:#fdf4c1;">...
</span></code></pre>
<p>Finally, if you run <code>source ~/.zshrc</code> you can reload your configuration and see the changes.</p>
<h2 id="keep-exploring">Keep Exploring <a class="zola-anchor" href="#keep-exploring" aria-label="Anchor link for: keep-exploring"></a>
</h2>
<p>Now that I've gotten you started, check out other <a rel="nofollow" href="https://github.com/robbyrussell/oh-my-zsh/wiki/Plugins">plugins</a> and <a rel="nofollow" href="https://github.com/robbyrussell/oh-my-zsh/wiki/themes">themes</a> made available by Oh-My-ZSH!</p>
<hr />
<h3 id="old-troubleshooting-steps-that-you-shouldn-t-need">Old Troubleshooting Steps that You Shouldn't Need? <a class="zola-anchor" href="#old-troubleshooting-steps-that-you-shouldn-t-need" aria-label="Anchor link for: old-troubleshooting-steps-that-you-shouldn-t-need"></a>
</h3>
<p>On a final side note, the zsh-syntax-highlighting plugin has given me trouble installing before. I've always gotten it working, but it's taken a combination of some of the following suggestions, so if it doesn't work first go - try adding some of these fixes in your <code>.zshrc</code>:</p>
<ol>
<li>
<p>List the <code>zsh-syntax-highlighting</code> plugin last. This apparently matters according to prior github issues, but I have a hunch it may not matter any longer after looking at how plugins are loaded by oh-my-zsh in debug logs.</p>
</li>
<li>
<p>Try manually sourcing the plugin. This one definitely isn't the best solution, but it can help diagnose. Just add the following to <code>.zshrc</code>:</p>
</li>
</ol>
<pre data-lang="sh" style="background-color:#282828;color:#fdf4c1aa;" class="language-sh "><code class="language-sh" data-lang="sh"><span style="color:#fabd2f;">source </span><span style="color:#fdf4c1;">~/.oh-my-zsh/custom/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh
</span></code></pre>
<ol start="3">
<li>Finally, if the above two options fail, you can also try to modify the fpath manually. Again, this really shouldn't be needed if you are loading your plugins correctly. (Remember, plugins are separated by <em>spaces</em> not <em>commas</em>).</li>
</ol>
<pre data-lang="sh" style="background-color:#282828;color:#fdf4c1aa;" class="language-sh "><code class="language-sh" data-lang="sh"><span style="color:#fdf4c1;">fpath</span><span style="color:#fe8019;">=</span><span>(/usr/local/share/zsh-completions $</span><span style="color:#fdf4c1;">fpath</span><span>)
</span></code></pre>

    </div>
  </article>
  
  
  <script 
    src="https://utteranc.es/client.js"
    repo="dfontana/dfontana.github.io"
    issue-term="pathname"
    label="comments"
    theme="github-light"
    crossorigin="anonymous"
    async
  ></script>
  

  
    
  <footer>
    <hr>
    <hr>
    <section class="author">
    <div class="authorimage" style="background: url(&#x2F;img&#x2F;profile.png)"></div>
    <h4>Dylan Fontana</h4>
    
        <p class="bio">Explore, learn, and pursue - three of my favorite things.</p>
    
    
    <p class="meta">
        <i class="fa fa-fw fa-map-marker"></i> America&#x2F;Boston
    </p>
    
    </section>
    </footer>

  

  </body>
</html>
